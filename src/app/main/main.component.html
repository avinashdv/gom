<div class="body">
  <nav class="nav fixed-top heading">
    <div class="container d-flex justify-content-center" style="padding-top:50px">
      <!-- Try the functionality of back for heading -->
      <img src="assets/images/gottitle.jpg" class="image-title" alt="">
    </div>
  </nav>
</div>


<!-- Main -->
<div class="main">
  <ng-container *ngIf="gotData.length > 0">

    <nav class="fixed-top filter">
      <div class="bg-white">
        <form action="" class="container pt-3 pb-5">
          <div class="input-group">
            <input type="text" class="p-2  filter-input text-black form-control" name="term" [(ngModel)]="term" placeholder="Book name... Character name... House name...">
            <div class="input-group-append filter-button rounded-right">
              <span class="input-group-text bg-white">
                <i class="fa fa-search"></i>
              </span>
            </div>
          </div>
        </form>
      </div>
    </nav>


    <ng-container *ngFor="let number of array">
      <!-- Start of Details -->
      <div class="details mt-5">

        <!-- Books Heading -->
        <ng-container *ngIf="number === 1">
          <div class="col-12 text-center">
            <div class="row p-2">
              <div class="col-2 col-sm-4 d-flex justify-content-end align-items-center">
                <img src="assets/images/leftknifeone.jpg" class="flag d-none d-sm-block" alt="">
              </div>
              <div class="col-8 col-sm-4 d-flex justify-content-center">
                <h1 class="display-4 p-3 font-weight-bold ">Books</h1>
              </div>
              <div class="col-2 col-sm-4 d-flex justify-content-start align-items-center">
                <img src="assets/images/rightknifeone.jpg" class="flag d-none d-sm-block" alt="">
              </div>
            </div>
          </div>
        </ng-container>

        <!-- Houses Heading -->
        <ng-container *ngIf="number === 2">
          <div class="col-12 text-center">
            <div class="row p-2">
              <div class="col-2 col-sm-4 d-flex justify-content-end align-items-center">
                <img src="assets/images/leftknifeone.jpg" class="flag d-none d-sm-block" alt="">
              </div>
              <div class="col-8 col-sm-4 d-flex justify-content-center">
                <h1 class="display-4 p-3 font-weight-bold ">Houses</h1>
              </div>
              <div class="col-2 col-sm-4 d-flex justify-content-start align-items-center">
                <img src="assets/images/rightknifeone.jpg" class="flag d-none d-sm-block" alt="">
              </div>
            </div>
          </div>
        </ng-container>

        <!-- Characters -->
        <ng-container *ngIf="number === 3">
          <div class="col-12 text-center">
            <div class="row p-2">
              <div class="col-1 col-sm-3 d-flex justify-content-end align-items-center">
                <img src="assets/images/leftknifeone.jpg" class="flag d-none d-sm-block" alt="">
              </div>
              <div class="col-10 col-sm-6 d-flex justify-content-center">
                <h1 class="display-4 p-3 font-weight-bold ">Characters</h1>
              </div>
              <div class="col-1 col-sm-3 d-flex justify-content-start align-items-center">
                <img src="assets/images/rightknifeone.jpg" class="flag d-none d-sm-block" alt="">
              </div>
            </div>
          </div>
        </ng-container>


        <div class="row">

          <!-- Data Loop -->
          <ng-container *ngFor="let data of gotData | filter:term; let i = index ">
            <!-- Start of Books -->
            <ng-container *ngIf="data.isbn && number === 1">
              <!-- Books Heading -->
              <div class="col-md-6 col-xl-4 mb-3">
                <div class="row px-4 pb-5 pt-0">
                  <div class="col-5 col-lg-5 col-xl-4 py-5 px-2 p-sm-0 rounded-left card-img-left d-flex justify-content-center align-items-center">
                    <img src="assets/images/gotbook.png" class="book-image" alt="">
                  </div>
                  <div class="col-7 col-lg-7 col-xl-8 p-2 p-sm-4 border border-dark container crd rounded-right">
                    <div class="p-2 p-lg-2">
                      <div class="d-flex justify-content-start">
                        <h5>{{data.name}}</h5>
                      </div>
                      <div class="py-2 text-center d-flex justify-content-start">
                        <p>
                          <b>(</b>{{data.mediaType}}
                          <b>)</b>
                        </p>
                      </div>
                      <div class="text-center d-flex justify-content-start">
                        <p class="d-block d-md-block d-lg-block d-xl-none">
                          <i class="fa fa-file"></i>
                          <b> {{data.numberOfPages}}</b>
                        </p>
                      </div>

                      <div class="d-none d-sm-block">
                        <div class="row">
                          <div class="col-6">
                            <div class="d-flex justify-content-start">
                              <p>{{data.released | date: 'dd/MM/yyyy'}}</p>
                            </div>
                          </div>
                          <div class="col-6">
                            <div class="d-flex justify-content-end">
                              <p class="d-none d-md-none d-lg-none d-xl-block">
                                <i class="fa fa-file"></i>
                                <b> {{data.numberOfPages}}</b>
                              </p>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="d-block d-sm-none">
                        <div class="d-flex justify-content-start">
                          <p>{{data.released | date: 'dd/MM/yyyy'}}</p>
                        </div>
                      </div>
                      <div class="row pt-2 pt-md-3">
                        <div class="col-1 col-sm-8">

                        </div>
                        <div class="col-11 col-sm-4">
                          <a [routerLink]="['/main/book',data.bookId]" class="text-white">
                            <p class="d-flex justify-content-start justify-content-sm-end">More...</p>
                          </a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </ng-container>
            <!-- End of Books -->

            <!-- Start of Houses -->
            <ng-container *ngIf="data.region && number === 2">

              <div class="col-md-6 col-xl-4 mb-3">
                <a [routerLink]="['/main/house',data.houseId]" class="link">
                  <div class="card border-0 p-3">
                    <img src="assets/images/gotcastle.jpg" class="card-img-top castle-image img-fluid" alt="">
                    <div class=" crd">
                      <div class="pt-4 pb-2 d-flex justify-content-center align-items-center">
                        <ng-container *ngIf='data.name === ""'>
                          <h5>Name:
                            <b>N/A</b>
                          </h5>
                        </ng-container>
                        <ng-container *ngIf='data.name !== ""'>
                          <h5>
                            <b>{{ data.name }}</b>
                          </h5>
                        </ng-container>
                      </div>
                      <div class="px-3 text-center d-flex justify-content-center">
                        <p class="m-0">
                          <i class="fa fa-map-marker" aria-hidden="true"></i> {{data.region}}
                        </p>
                      </div>
                      <div class="container px-5 pt-2 text-center d-flex justify-content-center">
                        <ng-container *ngIf='data.coatOfArms !== ""'>

                          <p class="text-truncate">
                            <i class="fa fa-shield"></i>
                            <b> {{data.coatOfArms}}</b>
                          </p>
                        </ng-container>
                        <ng-container *ngIf='data.coatOfArms == ""'>

                          <p class="text-truncate">
                            <i class="fa fa-shield"></i>
                            <b> N/A </b>
                          </p>
                        </ng-container>
                      </div>
                    </div>
                  </div>
                </a>
              </div>

            </ng-container>
            <!-- End of Houses -->

            <!-- Start of Characters -->
            <ng-container *ngIf="data.gender && number === 3">
              <div class="col-md-6 col-xl-4 mb-3">

                <div class="row px-4">

                  <!-- Col for image -->
                  <div class="col-5 p-3  d-flex justify-content-center align-items-center bg-white">
                    <ng-container *ngIf="data.gender === 'Male' ">
                      <img src="assets/images/spartan.jpg" class="char-image rounded-left" alt="">
                    </ng-container>
                    <ng-container *ngIf="data.gender === 'Female'">
                      <img src="assets/images/queen.jpg" class="char-image rounded-left" alt="">
                    </ng-container>
                  </div>

                  <!-- Col for data -->
                  <div class="col-7 p-2 p-sm-4 crd">
                    <!-- Name Div -->
                    <div class="pt-4 pb-2 d-flex justify-content-start align-items-center">
                      <ng-container *ngIf='data.name === ""'>
                        <h5>Name:
                          <b>N/A</b>
                        </h5>
                      </ng-container>
                      <ng-container *ngIf='data.name !== ""'>
                        <h5>Name:
                          <b>{{ data.name }}</b>
                        </h5>
                      </ng-container>
                    </div>

                    <!-- Gender Div-->
                    <div class="text-center d-flex justify-content-start">
                      <ng-container *ngIf='data.gender === ""'>
                        <b>N/A</b>
                      </ng-container>
                      <ng-container *ngIf='data.gender !== ""'>
                        <p class="m-0">
                          <b>{{ data.gender }}</b>
                        </p>
                      </ng-container>
                    </div>

                    <!-- Aliases Div -->
                    <div class="pt-1 d-flex justify-content-start">
                      <ng-container *ngIf='data.aliases.length !== undefined && data.aliases.length > 0'>
                        <ng-container *ngFor="let alias of data.aliases; let first = first; let last = last">
                          <p class="text-truncate py-2">
                            <span class="border border-dark px-1">Aliases:</span>
                            <b> {{alias}} {{last? "" : ", "}}</b>
                          </p>
                        </ng-container>
                      </ng-container>
                    </div>
                    <div class="row pt-2 pt-md-3">
                      <div class="col-1 col-sm-8">

                      </div>
                      <div class="col-11 col-sm-4">
                        <a [routerLink]="['/main/character',data.characterId]" class="text-white">
                          <p class="d-flex justify-content-start justify-content-sm-end">More...</p>
                        </a>
                      </div>
                    </div>
                  </div>
                </div>

              </div>

            </ng-container>
            <!-- End of Characters -->
          </ng-container>

        </div>
      </div>
      <!-- End of Details -->

    </ng-container>
  </ng-container>
</div>